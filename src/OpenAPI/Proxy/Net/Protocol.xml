<?xml version="1.0" encoding="utf-8" ?> 

<!-- 
Serverbound = Game Server 
Non Serverbound = Backend
-->

<protocol>
	<type name="varint" stream="VarInt" class="int" />
	<type name="varlong" stream="VarLong" class="long" />
	<type name="ushort" stream="UShort" class="ushort" />
	<type name="byte" stream="UInt8" class="byte" />
	<type name="position" stream="position" class="Vector3" />
	<type name="bool" stream="Bool" class="bool" />
	<type name="UUID" stream="UUID" class="string"/>
	<type name="prefixedbytes" stream="PrefixedBytes" class="byte[]" />
	<type name="ipendpoint" stream="IpEndPoint" class="IPEndPoint"/>
	<type name="ipaddress" stream="IpAddress" class="IPAddress"/>
	<type name="string[]" stream="StringArray" class="string[]" />
	<type name="packets" stream="Packets" class="Packet[]" />
  
	<pdu id="0x00" serverbound="false" name="Handshake">
		<field name="Verification" type="prefixedbytes" />
		<field name="Encryption" type="bool" />
		<field name="ConnectionType" type="byte"/>
	</pdu>

	<pdu id="0x00" serverbound="true" name="Handshake Response">
		<field name="SignedVerification" type ="prefixedbytes" />
	</pdu>

	<pdu id="0x01" serverbound="false" name="Handshake Status">
		<field name="Status" type="byte" />
		<field name="SecretKey" type="prefixedbytes" />
		<field name="SecretIV" type="prefixedbytes" />
	</pdu>

	<pdu id="0x01" serverbound ="true" name="Handshake Confirmation">
		<field name="Confirmation" type="prefixedbytes" />
	</pdu>
</protocol>